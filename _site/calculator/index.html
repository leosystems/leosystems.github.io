<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>
      Calculator &middot; 
      Low Earth Orbit
    </title>
    <meta name="author" content="Javier Peralta Muñoz">
    <meta name="description" content="All about Low Earth Orbit systems">
    <meta name="keywords" content="satellites">
    <meta name="robots" content="noodp,noydir">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/assets/css/app.css">
    <link rel="icon" type="image/x-icon" href="/assets/img/favicon.ico">
    <script type="text/javascript"
      src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.24/themes/base/jquery-ui.css" rel="stylesheet" type="text/css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.24/jquery-ui.min.js"></script>
    <meta charset=utf-8 />
    <title>JS Bin</title>
    <style id="jsbin-css">
    #container { width: 450px; height: 500px; background: #ccc; }
    #droppable { width: 450px; height: 100px; background: #ff0000; }
    .draggable { width: 90px; height: 90px; padding: 0.5em; float: left; margin: 0 10px 10px 0; background:yellow; }
    </style>
  </head>
  <body>
    <div class="container">

      <!-- Header -->
      <header class="header">
        <h1>
          Low Earth Orbit
        </h1>
        <p>
          <img class="img-thumbnail logo" src="/assets/img/logo.png" width="150" height="150" alt="Low Earth Orbit">
        </p>
        <p>All about Low Earth Orbit systems</p>
        <a class="sr-only" href="#content">Skip to main content</a>
        <ul class="list-inline">
          <li>
            <i class="fa fa-home text-success"></i>
            <a href="/">Home</a>
          </li>
          
          
          
          
          <li>
            <i class="fa fa-flask text-success"></i>
            <a href="/calculator/">Calculator</a>
          </li>
          
          
          
          <li>
            <i class="fa fa-picture-o text-success"></i>
            <a href="/history/">History of LEO systems</a>
          </li>
          
          
          
          
          
          
          
          <li>
            <i class="fa fa-link text-success"></i>
            <a href="/links/">References</a>
          </li>
          
          
          
          
          
          
          
          <li>
            <i class="fa fa-pencil text-success"></i>
            <a href="/test/">Test yourself</a>
          </li>
          
          
          <li>
            <i class="fa fa-github text-success"></i>
            <a href="https://github.com/leosystems">GitHub</a>
          </li>
        </ul>
      </header>

      <hr>

      <!-- Content -->
      <main id="content">
        <h2>Calculator</h2>
        <p class="lead">Compute several useful LEO parameters</p>
        <style>
#Xpos,#height,#Angle, #ElAngle, #distanceEdge {
    font-size: 16px;
    color: red;
}
.curve{
  width:900px; height:600px;
  border:solid 5px #000;
  background-image: url("/assets/img/bg.jpg");
  background-repeat: no-repeat;
  border-color:#000 transparent transparent transparent;
  border-radius: 40%/5px 5px 0 0;
}
</style>

<!-- CSS -->

<style type="text/css">
.drag {
    width: 180px;
    height: 110px;
    background-image: url("/assets/img/css-satellite.png");
    background-repeat: no-repeat;
    cursor: pointer;
    border-radius: 10px;
    text-align: center;
}
</style>

<table>
    <tr>
        <td><label for="txtelangle">Elevation angle* (degrees)</label></td>
        <td><input type="text" id="txtelangle" /></td>
    </tr>
    <tr>
        <td><label for="txtHeight">Height from the surface (km) </label></td>
        <td><input type="text" id="txtHeight" /></td>
    </tr>
    <tr>
        <td></td>
        <td><button id="btnReset">Reset</button><button id="btnCalc">Calculate</button></td>
    </tr>
</table>

<p><br>
<div>
<p>
* Note that an angle \(\theta &gt; 180\)º doesn&#39;t have any physical meaning.
</p>
<p>
Central angle (º) \(\displaystyle\equiv\gamma= \arccos\left(\frac{R_E}{R_E+h}\cdot\cos(El)\right)-El=\)
<span id="tdCentangle"><span/>
</p>
<p>
Linear speed (m/s) \(\displaystyle\equiv\sqrt{\frac{k}{R_E+h}}=\)
<span id="tdLinearSpeed"><span/>
</p>
<p>
Angular speed (rad/s) \(\displaystyle\equiv\omega_s=\frac{\nu_s}{(R_E+h)}=\sqrt{\frac{k}{(R_E+h)^3}}=\)
<span id="tdAngularSpeed"><span/>
</p>
<p>
Orbital period (s) \(\displaystyle\equiv 2\pi\sqrt{\frac{(R_E+h)^3}{k}}=\)
<span id="tdOrbitalPeriod"><span/>
</p>
<p>
Distance to the edge (m) \(\displaystyle\equiv\sqrt{R_E^2+(R_E+h)^2-2R_E(R_E+h)\cos\gamma }=\)
<span id="tdDistanceEdge"><span/>
</p>
<p>
Area of the spherical cap (m\(^2\)) \(\displaystyle\equiv S=2\pi R_E^2(1-\cos\gamma)=\)
<span id="tdSphericalCap"><span/>
</p>
<p>
Minimum number of satellites \(\displaystyle\equiv\frac{4\pi R_E^2}{S}=\frac{2}{1-\cos\gamma}=\)
<span id="tdNumberSat"><span/>
</p>
<p>
With \(k\) being the Kepler&#39;s constant as in <A href="/#kepler">here</a>
</p>
</div>
<p></p>

<div>
<h3>Drag the satellite to see the changes (elevation angle is 10º)</h3>
</div>

<div id="box" class="curve">
        <div id="dragx" class="drag">
        <p id="height"><p>
        <p id="Angle"><p>
        <p id="distanceEdge"><p>
        </ul>
        </div>
</div>

<p></p></p>

<script type="text/javascript">

$(function () {
  $("#dragx").css({top: 1300, left: 550, position:'absolute'});
        $("#dragx").draggable({
                containment: "#box",
                scroll: false,
                drag: function(){
                    var offset = $(this).offset();
                    var x = offset.left;
                    var y = offset.top;
                    var xPos = (offset.left-550)*1.2;
                    var height = (-offset.top+2500)*1.2*1000;//meters
                    var radEarth = 6370000;
                    var degelangle = 10;
                    var elangle = toRadians(degelangle);
                    var centAng = Math.acos((radEarth/(radEarth+height)*Math.cos(elangle)))-elangle;
                    var distanceEdge =  Math.sqrt((radEarth*radEarth)+((radEarth+height)*(radEarth+height))-2*radEarth*(radEarth+height)*Math.cos(centAng));
                    $('#distanceEdge').text('Distance to the edge: ' + distanceEdge/1000+ ' km');
                    $('#Angle').text('Central angle: ' + toDegrees(centAng) +'º');
                    $('#height').text('Height: ' + height/1000+' km');
                },
        });
});

    window.onload=function() {
        elangleObj = document.getElementById('txtelangle');
        heightObj = document.getElementById('txtHeight');
        centangleObj = document.getElementById('tdCentangle');
        linearSpeed = document.getElementById('tdLinearSpeed');
        angularSpeed = document.getElementById('tdAngularSpeed');
        distanceEdge = document.getElementById('tdDistanceEdge');
        orbitalPeriod = document.getElementById('tdOrbitalPeriod');
        sphericalCap = document.getElementById('tdSphericalCap');
        numberSat = document.getElementById('tdNumberSat');
        document.getElementById('btnReset').onclick = resetInputs;
        document.getElementById('btnCalc').onclick = calcParameters;
    }
    function resetInputs() {
        elangleObj.value = '';
        heightObj.value = '';
        linearSpeed.innerHTML = '';
        angularSpeed.innerHTML = '';
        distanceEdge.innerHTML = '';
        orbitalPeriod.innerHTML = '';
        sphericalCap.innerHTML = '';
        numberSat.innerHTML = '';
        centangleObj.innerHTML = '';
    }
    function toRadians (angle) {
      return angle * (Math.PI / 180);
    }
    function toDegrees (angle) {
      return angle * (180 / Math.PI);
    }
    function calcParameters() {
        var radEarth = 6371000;
        var k = 3.9860e14;
        var elangle = new Number(elangleObj.value);
        var heightKm = new Number(heightObj.value);
        var height = heightKm*1000;
        centangleObj.innerHTML = '';
        linearSpeed.innerHTML = '';
        angularSpeed.innerHTML = '';
        distanceEdge.innerHTML = '';
        orbitalPeriod.innerHTML = '';
        sphericalCap.innerHTML = '';
        numberSat.innerHTML = '';

        if(isNaN(elangle) || isNaN(height) || height < 0) {
            alert('Invalid parameters. Try with a positive length or an angle lower than 180º');
            return;
        }
        while(elangle > 360){
            elangle = elangle-360;
        }
        if(180 < elangle && elangle < 360){
          elangle = elangle-180;
        }
        if(90 < elangle && elangle < 180){
          elangle = 180-elangle;
        }

        var radelangle = toRadians(elangle);

        centangleObj.innerHTML = 180/Math.PI*(Math.acos((radEarth/(radEarth+height)*Math.cos(radelangle)))-radelangle);
        var centAng = Math.acos((radEarth/(radEarth+height)*Math.cos(radelangle)))-radelangle;
        linearSpeed.innerHTML = Math.sqrt(k/(radEarth+height));
        angularSpeed.innerHTML = Math.sqrt(k/((radEarth+height)*(radEarth+height)*(radEarth+height)));
        orbitalPeriod.innerHTML = 2*Math.PI*Math.sqrt((Math.pow((radEarth+height),3)/k));
        distanceEdge.innerHTML =  Math.sqrt((radEarth*radEarth)+((radEarth+height)*(radEarth+height))-2*radEarth*(radEarth+height)*Math.cos(centAng));
        sphericalCap.innerHTML = 2*Math.PI*radEarth*radEarth*(1 - Math.cos(centAng));
        numberSat.innerHTML = 2/(1-Math.cos(centAng));
    }
</script>

      </main>
    </div>

    <!-- Google Analytics -->
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-15377021-8', 'leosystems.github.io');
  ga('send', 'pageview');
</script>

  </body>
</html>
